{"version":3,"sources":["view/madeMap.js"],"names":["Wrapper","styled","div","Title","h1","Component","HistoryStore","useStore","history","useHistory","name","labelCol","span","wrapperCol","initialValues","remember","onFinish","values","console","log","setMapUrl","mapUrl","setBeaconName","beaconName","addBeacon","then","catch","message","success","finally","push","onFinishFailed","errorInfo","error","autoComplete","Item","label","rules","required","offset","type","htmlType"],"mappings":"+LAMMA,EAAUC,IAAOC,IAAV,mKAOPC,EAAQF,IAAOG,GAAV,2EA0DIC,UArDG,WAAO,IACdC,EAAgBC,cAAhBD,aACDE,EAAUC,cA0BhB,OACI,eAACT,EAAD,WACA,cAACG,EAAD,uCAEA,eAAC,IAAD,CAAMO,KAAK,QAAQC,SAAU,CAACC,KAAM,GAAKC,WAAY,CAACD,KAAM,IAAME,cAAe,CAACC,UAAU,GAAQC,SA5BvF,SAACC,GACdC,QAAQC,IAAI,iCAAcF,GAC1BX,EAAac,UAAUH,EAAOI,QAC9Bf,EAAagB,cAAcL,EAAOM,YAClCjB,EAAakB,YACRC,MAAK,WACFP,QAAQC,IAAI,qEACbO,OAAM,WACLC,IAAQC,QAAQ,4BAChBV,QAAQC,IAAI,QACjBU,SAAQ,WACPX,QAAQC,IAAI,kEACZX,EAAQsB,KAAK,gBAgBuGC,eAXrG,SAACC,GACpBd,QAAQC,IAAIa,GACbL,IAAQM,MAAM,6BAS2IC,aAAa,MAArK,UAEI,cAAC,IAAKC,KAAN,CAAWC,MAAM,iBAAO1B,KAAK,SAAS2B,MAAO,CAAE,CAAEC,UAAU,EAAMX,QAAS,oBAA1E,SACI,cAAC,IAAD,MAGJ,cAAC,IAAKQ,KAAN,CAAWC,MAAM,2BAAO1B,KAAK,aAAa2B,MAAO,CAAE,CAAEC,UAAU,EAAMX,QAAS,oBAA9E,SACI,cAAC,IAAD,MAGJ,cAAC,IAAKQ,KAAN,CAAWtB,WAAY,CAAC0B,OAAQ,GAAG3B,KAAM,IAAzC,SACI,cAAC,IAAD,CAAQ4B,KAAK,UAAUC,SAAS,SAAhC","file":"static/js/15.764d993f.chunk.js","sourcesContent":["import {Form, Input, Button, message} from 'antd';\r\nimport React from 'react';\r\nimport styled from 'styled-components';\r\nimport {useStore} from '../store';\r\nimport {useHistory} from 'react-router-dom';\r\n\r\nconst Wrapper = styled.div`\r\n  max-width: 600px;\r\n  margin: 30px auto;\r\n  box-shadow: 2px 2px 2px 3px rgba(0, 0, 0, 0.3);\r\n  border-radius: 6px;\r\n  padding: 20px;\r\n`\r\nconst Title = styled.h1`\r\n  text-align: center;\r\n  margin-bottom: 25px;\r\n`\r\n\r\nconst Component = () => {\r\n    const {HistoryStore} = useStore();\r\n    const history = useHistory();\r\n\r\n    const onFinish = (values) => {\r\n        console.log('输入的values为', values);\r\n        HistoryStore.setMapUrl(values.mapUrl);\r\n        HistoryStore.setBeaconName(values.beaconName);\r\n        HistoryStore.addBeacon()\r\n            .then(() => {\r\n                console.log('添加成功,跳转到doneMap页面')\r\n            }).catch(() => {\r\n                message.success('添加成功')\r\n                console.log('1')\r\n        }).finally(()=>{\r\n            console.log('添加完成,跳转到doneMap页面')\r\n            history.push('/doneMap')\r\n         \r\n        })\r\n    };\r\n\r\n    const onFinishFailed = (errorInfo) => {\r\n        console.log(errorInfo)\r\n       message.error('添加失败')\r\n    };\r\n\r\n\r\n\r\n    return (\r\n        <Wrapper>\r\n        <Title>绘制地图</Title>\r\n    \r\n        <Form name=\"basic\" labelCol={{span: 4,}} wrapperCol={{span: 20,}} initialValues={{remember: true,}} onFinish={onFinish} onFinishFailed={onFinishFailed} autoComplete=\"off\">\r\n\r\n            <Form.Item label=\"地图ID\" name=\"mapUrl\" rules={[ { required: true, message: '设备ID!' , }]}>\r\n                <Input />\r\n            </Form.Item>\r\n    \r\n            <Form.Item label=\"信标名称\" name=\"beaconName\" rules={[ { required: true, message: '设备ID!' , }]}>\r\n                <Input />\r\n            </Form.Item>\r\n\r\n            <Form.Item wrapperCol={{offset: 10,span: 30,}}>\r\n                <Button type=\"primary\" htmlType=\"submit\">\r\n                    提交\r\n                </Button>\r\n            </Form.Item>\r\n\r\n        </Form>\r\n    </Wrapper>\r\n    );\r\n};\r\n\r\nexport default Component;"],"sourceRoot":""}